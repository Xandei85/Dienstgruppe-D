<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Schichtplan Polizei</title>
  <!-- Progressive Web App manifest -->
  <link rel="manifest" href="manifest.json">
  <!-- Theme color for the address bar -->
  <meta name="theme-color" content="#0b6aa2">
  <!-- Touch icon for iOS -->
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <!-- Main stylesheet -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1 id="monthTitle"></h1>
    <div class="controls">
      <label for="meSelect">Ich bin:</label>
      <select id="meSelect"></select>
      <button id="prevMonth" aria-label="Vorheriger Monat">◀</button>
      <select id="monthSelect"></select>
      <select id="yearSelect"></select>
      <button id="nextMonth" aria-label="Nächster Monat">▶</button>
      <!-- Install button will be shown by the service worker prompt -->
      <button id="installBtn" hidden>App installieren</button>
    </div>
  </header>

  <main>
    <!-- Legend explaining colour coding -->
    <div class="legend">
      <span class="chip chip-yellow">Arbeitstag</span>
      <span class="chip chip-turquoise">Sa</span>
      <span class="chip chip-red">So</span>
      <span class="chip chip-green">Ferien (BY)</span>
    </div>

    <!-- Buttons for entering codes.  New codes GV, LG and PE added. -->
    <div class="legend-buttons">
      <button class="legend-btn" data-code="U"><strong>U</strong></button>
      <button class="legend-btn" data-code="AA"><strong>AA</strong></button>
      <button class="legend-btn" data-code="AZA"><strong>AZA</strong></button>
      <button class="legend-btn" data-code="GV"><strong>GV</strong></button>
      <button class="legend-btn" data-code="LG"><strong>LG</strong></button>
      <button class="legend-btn" data-code="PE"><strong>PE</strong></button>
      <button class="legend-btn" data-code="X"><strong>X</strong></button>
    </div>

    <!-- Grid for the calendar.  Populated by app.js -->
    <div id="grid" class="grid"></div>

    <!-- Area for entering monthly remarks -->
    <div class="remarks">
      <label for="monthlyRemarks">Bemerkungen (Monat):</label>
      <textarea id="monthlyRemarks" placeholder="Notizen…" rows="3"></textarea>
      <button id="saveRemarks">Bemerkungen speichern</button>
    </div>
  </main>

  <footer>
    <small>Starter-App • Datenhaltung per Supabase optional – siehe README.</small>
  </footer>

  <!-- Toast element for transient messages -->
  <div class="toast" id="toast"></div>

  <!-- Application scripts -->
  <script src="config.js"></script>
  <script src="supabaseClient.js"></script>
  <script src="app.js"></script>
</body>
</html>